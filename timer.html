<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Timer with Records</title>
<style>
  /* Styles for the timer container */
  .timer-container {
    width: 300px;
    margin: 50px auto;
    text-align: center;
  }

  /* Styles for the timer display */
  .timer {
    font-size: 24px;
    border: 2px solid #000;
    padding: 10px;
    margin-bottom: 10px;
  }

  /* Styles for the records */
  .records {
    text-align: left;
    margin-bottom: 20px;
  }

  /* Styles for the buttons */
  button {
    margin: 5px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
  }
  button {
    margin: 5px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
    border: 2px solid #000;
    border-radius: 5px;
    text-shadow: 1px 1px 1px rgba(0,0,0,0.5); /* 3D effect */
}

button:hover {
    background-color: #f0f0f0;
    border-color: #999; /* Change border color on hover */
}

button:active {
    transform: translateY(2px);
    border-color: #666; /* Change border color on click */
}
  
</style>
</head>
<body>

<div class="timer-container">
  <div class="timer" id="timerDisplay">00:00:00.000</div>
  <div class="records" id="recordsDisplay"></div>
  <button onclick="startTimer()">Start</button>
  <button onclick="pauseTimer()">Pause</button>
  <button onclick="resetTimer()">Reset</button>
  <button onclick="createRecord()">Create Record</button>
</div>

<script>
  let timerInterval;
  let startTime;
  let elapsedTime = 0;
  let isTimerRunning = false;
  let recordCount = 0;
  let lastRecordTime = 0;

  // Function to start the timer
  function startTimer() {
    if (!isTimerRunning) {
      startTime = Date.now() - elapsedTime;
      timerInterval = setInterval(updateTimer, 10);
      isTimerRunning = true;
    }
  }

  // Function to pause the timer
  function pauseTimer() {
    clearInterval(timerInterval);
    isTimerRunning = false;
  }

  // Function to reset the timer and records
  function resetTimer() {
    clearInterval(timerInterval);
    isTimerRunning = false;
    elapsedTime = 0;
    lastRecordTime = 0;
    document.getElementById('timerDisplay').textContent = '00:00:00.000';
    document.getElementById('recordsDisplay').innerHTML = '';
  }

  // Function to update the timer display
  function updateTimer() {
    const currentTime = Date.now();
    elapsedTime = currentTime - startTime;
    displayTime(elapsedTime);
  }

  // Function to display the timer in hours, minutes, seconds, and milliseconds
  function displayTime(duration) {
    const hours = Math.floor(duration / (1000 * 60 * 60));
    const minutes = Math.floor((duration % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((duration % (1000 * 60)) / 1000);
    const milliseconds = Math.floor((duration % 1000));

    const formattedTime = `${padZero(hours)}:${padZero(minutes)}:${padZero(seconds)}.${padZero(milliseconds, 3)}`;
    document.getElementById('timerDisplay').textContent = formattedTime;
  }

  // Function to pad zeros to the timer values
  function padZero(num, size = 2) {
    let str = String(num);
    while (str.length < size) {
      str = '0' + str;
    }
    return str;
  }

  // Function to create a record
  function createRecord() {
    if (isTimerRunning) {
      const recordTime = elapsedTime - lastRecordTime;
      lastRecordTime = elapsedTime;
      const recordHours = Math.floor(recordTime / (1000 * 60 * 60));
      const recordMinutes = Math.floor((recordTime % (1000 * 60 * 60)) / (1000 * 60));
      const recordSeconds = Math.floor((recordTime % (1000 * 60)) / 1000);
      const recordMilliseconds = Math.floor((recordTime % 1000));

      const record = `Record ${++recordCount}: ${padZero(recordHours)}:${padZero(recordMinutes)}:${padZero(recordSeconds)}.${padZero(recordMilliseconds, 3)}`;
      const recordsDisplay = document.getElementById('recordsDisplay');
      recordsDisplay.innerHTML += `<div>${record}</div>`;
    }
  }
</script>

</body>
</html>
